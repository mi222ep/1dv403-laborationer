{"changed":true,"filter":false,"title":"imageviewer.js","tooltip":"/5-projektet/script/imageviewer.js","value":"var width = 0;\nvar height = 0;\n\nfunction renderImageViewer(){\n\n    var image = new XMLHttpRequest();\n    \n    image.onreadystatechange = function(){\n        if(image.readyState === 4 && image.status === 200){\n            \n         var imageInfo = JSON.parse(image.responseText);\n         console.log(imageInfo);\n         var arrLength  = imageInfo.length;\n         for(var i = 0; i< arrLength; i+=1){\n             console.log(imageInfo[i].URL);\n             getMaxWidthAndLength(imageInfo[i].thumbWidth, imageInfo[i].thumbHeight);\n             renderImage(imageInfo[i]);\n         }\n        }\n    };\n    \n    image.open(\"GET\", \"http://homepage.lnu.se/staff/tstjo/labbyServer/imgviewer/\", true);\n    image.send(null);\n    \n}\nfunction getMaxWidthAndLength(picWidth, picHeight){\n    if(picWidth>width){\n        width = picWidth;\n    }\n    if(picHeight>height){\n        height = picHeight;\n    }\n    \n}\nfunction renderImage(imgObject){\n    var a = document.createElement(\"a\");\n    var frame = document.createElement(\"div\");\n    var img = document.createElement(\"img\");\n    img.setAttribute(\"src\", imgObject.thumbURL);\n    frame.style.width = width+'px';\n    frame.style.height = height+'px';\n    \n    frame.setAttribute(\"class\",  \"thumbImg\");\n    a.setAttribute(\"href\", \"#\");\n    a.appendChild(frame);\n    \n    a.addEventListener(\"click\", function() {clickingA(imgObject.URL)});\n    \n    frame.appendChild(img);\n    \n    var imageSpace = document.getElementById(\"imageviewer1\");\n    imageSpace.appendChild(a);\n    \n}\nfunction clickingA(imgURL){\n    document.body.style.background = 'url(\\\"'+imgURL+'\\\")';\n}\n//window.onload = renderImageViewer();","undoManager":{"mark":11,"position":12,"stack":[[{"group":"doc","deltas":[{"start":{"row":4,"column":0},"end":{"row":6,"column":4},"action":"remove","lines":["    ","    ","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":46},"end":{"row":52,"column":56},"action":"remove","lines":["imageSpace"]},{"start":{"row":52,"column":46},"end":{"row":52,"column":47},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":47},"end":{"row":52,"column":48},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":48},"end":{"row":52,"column":49},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":49},"end":{"row":52,"column":50},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":50},"end":{"row":52,"column":51},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":51},"end":{"row":52,"column":52},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":52},"end":{"row":52,"column":53},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":53},"end":{"row":52,"column":54},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":46},"end":{"row":52,"column":54},"action":"remove","lines":["imagevie"]},{"start":{"row":52,"column":46},"end":{"row":52,"column":58},"action":"insert","lines":["imageviewer1"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":0},"end":{"row":59,"column":1},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":1},"end":{"row":59,"column":2},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":10},"end":{"row":19,"column":29},"action":"remove","lines":["","         console.log(width);","         console.log(height);"]}]}]]},"ace":{"folds":[],"scrolltop":600,"scrollleft":0,"selection":{"start":{"row":23,"column":4},"end":{"row":23,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420991913732}