{"changed":true,"filter":false,"title":"memory.js","tooltip":"/3-gameon/memory/script/memory.js","value":"\"use strict\"\n\nvar memory = {\n\n    numberOfPairs: 0,\n    click: 0,\n    pairs: [],\n    firstPair: 0,\n    secondPair: 0,\n    pairCounter: 0,\n    tiles: [],\n    memoryArr: [],\n\n    init: function() {\n\n        var row = 4;\n        var column = 4;\n        \n        memory.memoryArr = RandomGenerator.getPictureArray(row, column);\n        memory.RenderTable(row, column);\n        memory.numberOfPairs = row*column/2;\n\n\n    },\n    RenderTable: function(rows, cols) {\n\n        var count = 0;\n\n\n        var table = document.createElement(\"table\");\n\n        for (var i = 0; i < rows; i++) {\n            var tr = document.createElement(\"tr\");\n            table.appendChild(tr);\n\n            for (var j = 0; j < cols; j++) {\n                var td = document.createElement(\"td\");\n                var a = document.createElement(\"a\");\n                var div = document.createElement(\"div\");\n                var img = document.createElement(\"img\");\n                img.setAttribute(\"src\", \"pics/\" + memory.memoryArr[count] + \".png\");\n                a.setAttribute(\"class\", \"unmatched\");\n                a.setAttribute(\"href\", \"#\");\n                a.appendChild(div);\n                div.appendChild(img);\n                td.appendChild(a);\n                tr.appendChild(td);\n                count += 1;\n            }\n        }\n\n        var memorySpace = document.querySelector(\"#memorySpace\");\n        memorySpace.appendChild(table);\n\n        var memoryTiles = document.getElementsByClassName(\"unmatched\");\n        Array.prototype.forEach.call(memoryTiles, function(tile, tileID) {\n            memory.TurnTile(tile, tileID);\n        });\n         \n    },\n    TurnTile: function(tile, tileID) {\n\n\n        tile.addEventListener(\"click\", function() {\n            var p = tile.parentNode.querySelector(\".unmatched\");\n            var picID = memory.memoryArr[tileID];\n            \n            memory.click +=1;\n            \n            if(memory.click==1){\n                 if (p.classList.contains(\"hidden\")) { \n                memory.click = 0; \n                return;\n                 }\n                p.classList.add(\"hidden\");\n                memory.pairs.push(picID);\n                memory.firstPair = p;\n                return;\n            }\n            \n            if(memory.click == 2){\n                if (p.classList.contains(\"hidden\")) { \n                memory.click = 1; \n                return;\n                 }\n               p.classList.add(\"hidden\");\n               memory.secondPair = p;\n               memory.pairs.push(picID);\n               memory.ComPair();\n               memory.pairs.length = 0;\n               memory.click = 0;\n               if(memory.pairCounter == memory.numberOfPairs){\n            alert(\"Grattis, du vann!\");\n        }\n            }\n            \n        });\n\n    },\n    ComPair: function(){\n        if(memory.pairs[0] == memory.pairs[1]){\n            memory.pairCounter += 1;\n            return;\n        }\n        else{\n            //TA BORT KLICKET NÄR DEN TIMEOUTAR!\n            //HUR?!?!?!?!?!?!?!??!?!?!!!!!!!!\n            \n            setTimeout(function() {\n            memory.firstPair.classList.remove(\"hidden\");\n            memory.secondPair.classList.remove(\"hidden\");\n            memory.firstPair = 0;\n            }, 1000);\n        }\n        \n    }\n};\n\nwindow.onload = memory.init;","undoManager":{"mark":-1,"position":51,"stack":[[{"group":"doc","deltas":[{"start":{"row":109,"column":33},"end":{"row":110,"column":0},"action":"insert","lines":["",""]},{"start":{"row":110,"column":0},"end":{"row":110,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":5,"column":74},"action":"remove","lines":["    //var click = 0; --- bättre?","    ","    //Det går att trycka på en bricka när två omatchade visas. Hur lösa?  "]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":12},"end":{"row":107,"column":33},"action":"remove","lines":["//Prevent default","            //Som i labby message"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":12},"end":{"row":106,"column":13},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":13},"end":{"row":106,"column":14},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":14},"end":{"row":106,"column":15},"action":"insert","lines":["H"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":15},"end":{"row":106,"column":16},"action":"insert","lines":["U"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":16},"end":{"row":106,"column":17},"action":"insert","lines":["R"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":17},"end":{"row":106,"column":18},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":18},"end":{"row":106,"column":19},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":19},"end":{"row":106,"column":20},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":20},"end":{"row":106,"column":21},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":21},"end":{"row":106,"column":22},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":21},"end":{"row":106,"column":22},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":20},"end":{"row":106,"column":21},"action":"remove","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":19},"end":{"row":106,"column":20},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":18},"end":{"row":106,"column":19},"action":"remove","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":18},"end":{"row":106,"column":19},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":19},"end":{"row":106,"column":20},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":20},"end":{"row":106,"column":21},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":20},"end":{"row":106,"column":21},"action":"remove","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":19},"end":{"row":106,"column":20},"action":"remove","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":18},"end":{"row":106,"column":19},"action":"remove","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":17},"end":{"row":106,"column":18},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":17},"end":{"row":106,"column":18},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":18},"end":{"row":106,"column":19},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":19},"end":{"row":106,"column":20},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":20},"end":{"row":106,"column":21},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":21},"end":{"row":106,"column":22},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":22},"end":{"row":106,"column":23},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":23},"end":{"row":106,"column":24},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":24},"end":{"row":106,"column":25},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":25},"end":{"row":106,"column":26},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":26},"end":{"row":106,"column":27},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":27},"end":{"row":106,"column":28},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":28},"end":{"row":106,"column":29},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":29},"end":{"row":106,"column":30},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":30},"end":{"row":106,"column":31},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":31},"end":{"row":106,"column":32},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":32},"end":{"row":106,"column":33},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":33},"end":{"row":106,"column":34},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":34},"end":{"row":106,"column":35},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":35},"end":{"row":106,"column":36},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":36},"end":{"row":106,"column":37},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":37},"end":{"row":106,"column":38},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":38},"end":{"row":106,"column":39},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":39},"end":{"row":106,"column":40},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":40},"end":{"row":106,"column":41},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":41},"end":{"row":106,"column":42},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":42},"end":{"row":106,"column":43},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":43},"end":{"row":106,"column":44},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":106,"column":44},"end":{"row":106,"column":45},"action":"insert","lines":["!"]}]}]]},"ace":{"folds":[],"scrolltop":1380,"scrollleft":0,"selection":{"start":{"row":106,"column":45},"end":{"row":106,"column":45},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":83,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1418808505704}